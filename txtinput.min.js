!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.txtinput=e()}(this,function(){"use strict";function t(t,o){var c=u[t.tagName.toLowerCase()],f=t.value;if(c&&!n)t.addEventListener("input",o,!1);else{var d=function(e){t.value!==f&&(f=t.value,e.target!==t&&(e.target=t),o.call(t,e))};if(e){var l=function(e){"value"===e.propertyName&&d.call(t,e)};r(t,"propertychange",l)}if(n){var p=function(t){"focus"===t.type?r(document,"selectionchange",d):a(document,"selectionchange",d)};r(t,"focus",p),r(t,"blur",p)}var s=function(t){var e=this,n=i({},t);setTimeout(function(){d.call(e,n)},0)};r(t,"keydown",s),r(t,"paste",s),r(t,"drop",s)}var v=t._unbindTxtinput;t._unbindTxtinput=function(){v&&v.call(t),c&&!n?t.removeEventListener("input",o):(e&&a(t,"propertychange",l),n&&(a(document,"selectionchange",d),a(t,"focus",p),a(t,"blur",p)),a(t,"keydown",s),a(t,"paste",s),a(t,"drop",s))}}var e=/msie|trident/i.test(navigator.userAgent),n=document.documentMode&&9===document.documentMode,o=function(t,e){var n=document.createElement(e);t="on"+t;var o=t in n;return o||(n.setAttribute(t,"return;"),o="function"==typeof n[t]),n=null,o},u={input:o("input","input"),textarea:o("input","textarea")},i=function(t,e){for(var n in e)t[n]=e[n];return t},r=function(t,e,n){t[e+n]=function(e){e=e||window.event,e.target=e.srcElement,n.call(t,e)},t.attachEvent("on"+e,t[e+n])},a=function(t,e,n){t.detachEvent("on"+e,t[e+n])};return t});